case N_AT:{S a=n->at.at;Ty*t=n->at.p?tcc(n->at.p->ty):0;if(si(a,Z("ADDRESS"))){V p=gex(g,n->at.p);r.k=VK_I;fprintf(g->o,"  %%t%d = ptrtoint ptr %%t%d to i64\n",r.id,vcast(g,p,VK_P).id);}else if(si(a,Z("SIZE"))){r.k=VK_I;fprintf(g->o,"  %%t%d = add i64 0, %lld\n",r.id,t?(long long)(t->sz*8):64LL);}else if(si(a,Z("FIRST"))||si(a,Z("LAST"))||si(a,Z("LENGTH"))){int64_t lo=0,hi=-1;if(t&&t->k==TY_A){lo=t->lo;hi=t->hi;}else if(t&&(t->k==TY_I||t->k==TY_UI||t->k==TY_E||t->k==TY_D)){lo=t->lo;hi=t->hi;}int64_t v=si(a,Z("FIRST"))?lo:si(a,Z("LAST"))?hi:(hi>=lo?hi-lo+1:0);r.k=VK_I;fprintf(g->o,"  %%t%d = add i64 0, %lld\n",r.id,(long long)v);}else if(si(a,Z("POS"))){V x=gex(g,n->at.ar.d[0]);if(t&&t->k==TY_E){r=vcast(g,x,VK_I);}else{r.k=VK_I;int tlo=nt(g);fprintf(g->o,"  %%t%d = add i64 0, %lld\n",tlo,t?(long long)t->lo:0LL);fprintf(g->o,"  %%t%d = sub i64 %%t%d, %%t%d\n",r.id,vcast(g,x,VK_I).id,tlo);}}else if(si(a,Z("VAL"))){V x=gex(g,n->at.ar.d[0]);r.k=VK_I;int tlo=nt(g);fprintf(g->o,"  %%t%d = add i64 0, %lld\n",tlo,t?(long long)t->lo:0LL);fprintf(g->o,"  %%t%d = add i64 %%t%d, %%t%d\n",r.id,vcast(g,x,VK_I).id,tlo);}else if(si(a,Z("SUCC"))||si(a,Z("PRED"))){V x=gex(g,n->at.ar.d[0]);r.k=VK_I;fprintf(g->o,"  %%t%d = %s i64 %%t%d, 1\n",r.id,si(a,Z("SUCC"))?"add":"sub",vcast(g,x,VK_I).id);}else if(si(a,Z("IMAGE"))){V x=gex(g,n->at.ar.d[0]);r.k=VK_P;if(t&&t->k==TY_E){fprintf(g->o,"  %%t%d = call ptr @__ada_image_enum(i64 %%t%d, i64 %lld, i64 %lld)\n",r.id,vcast(g,x,VK_I).id,t?(long long)t->lo:0LL,t?(long long)t->hi:127LL);}else{fprintf(g->o,"  %%t%d = call ptr @__ada_image_int(i64 %%t%d)\n",r.id,vcast(g,x,VK_I).id);}}else if(si(a,Z("VALUE"))){V x=gex(g,n->at.ar.d[0]);r.k=VK_I;fprintf(g->o,"  %%t%d = call i64 @__ada_value_int(ptr %%t%d)\n",r.id,vcast(g,x,VK_P).id);}else if(si(a,Z("DIGITS"))){r.k=VK_I;fprintf(g->o,"  %%t%d = add i64 0, %lld\n",r.id,t?(long long)t->sm:15LL);}else if(si(a,Z("DELTA"))){r.k=VK_F;fprintf(g->o,"  %%t%d = fadd double 0.0, %e\n",r.id,t?1.0/pow(2.0,(double)t->sm):0.01);}else if(si(a,Z("SMALL"))||si(a,Z("LARGE"))||si(a,Z("EPSILON"))){r.k=VK_F;double v=si(a,Z("SMALL"))?pow(2.0,-126.0):si(a,Z("LARGE"))?1.0e308:pow(2.0,t?-(double)t->sm:-52.0);fprintf(g->o,"  %%t%d = fadd double 0.0, %e\n",r.id,v);}else if(si(a,Z("MANTISSA"))||si(a,Z("MACHINE_MANTISSA"))){r.k=VK_I;fprintf(g->o,"  %%t%d = add i64 0, %lld\n",r.id,t?(long long)t->sm:53LL);}else if(si(a,Z("MACHINE_RADIX"))){r.k=VK_I;fprintf(g->o,"  %%t%d = add i64 0, 2\n",r.id);}else if(si(a,Z("EMAX"))||si(a,Z("MACHINE_EMAX"))||si(a,Z("SAFE_EMAX"))){r.k=VK_I;fprintf(g->o,"  %%t%d = add i64 0, 1024\n",r.id);}else if(si(a,Z("MACHINE_EMIN"))){r.k=VK_I;fprintf(g->o,"  %%t%d = add i64 0, -1021\n",r.id);}else if(si(a,Z("MACHINE_OVERFLOWS"))||si(a,Z("MACHINE_ROUNDS"))){r.k=VK_I;fprintf(g->o,"  %%t%d = add i64 0, 1\n",r.id);}else if(si(a,Z("AFT"))){r.k=VK_I;int64_t dg=1;if(t&&t->sm>0){while(pow(10.0,(double)dg)*pow(2.0,-(double)t->sm)<1.0)dg++;}fprintf(g->o,"  %%t%d = add i64 0, %lld\n",r.id,(long long)dg);}else if(si(a,Z("FORE"))){r.k=VK_I;int64_t fw=2;if(t&&t->hi>0){int64_t mx=t->hi;while(mx>=10){mx/=10;fw++;}}fprintf(g->o,"  %%t%d = add i64 0, %lld\n",r.id,(long long)fw);}else if(si(a,Z("WIDTH"))){r.k=VK_I;int64_t wd=1;if(t){if(t->k==TY_E){for(uint32_t i=0;i<t->ev.n;i++){Sy*e=t->ev.d[i];int64_t ln=e->nm.n;if(ln>wd)wd=ln;}}else{int64_t mx=t->hi>-t->lo?t->hi:-t->lo;while(mx>=10){mx/=10;wd++;}if(t->lo<0)wd++;}}fprintf(g->o,"  %%t%d = add i64 0, %lld\n",r.id,(long long)wd);}else if(si(a,Z("STORAGE_SIZE"))||si(a,Z("POSITION"))||si(a,Z("FIRST_BIT"))||si(a,Z("LAST_BIT"))){r.k=VK_I;fprintf(g->o,"  %%t%d = add i64 0, 0\n",r.id);}else if(si(a,Z("CONSTRAINED"))||si(a,Z("COUNT"))||si(a,Z("CALLABLE"))||si(a,Z("TERMINATED"))){r.k=VK_I;fprintf(g->o,"  %%t%d = add i64 0, 0\n",r.id);}else if(si(a,Z("ACCESS"))){V p=gex(g,n->at.p);r=vcast(g,p,VK_P);}else if(si(a,Z("SAFE_LARGE"))||si(a,Z("SAFE_SMALL"))){r.k=VK_F;double v=si(a,Z("SAFE_LARGE"))?1.0e307:1.0e-307;fprintf(g->o,"  %%t%d = fadd double 0.0, %e\n",r.id,v);}else{r.k=VK_I;fprintf(g->o,"  %%t%d = add i64 0, 0\n",r.id);}break;}
