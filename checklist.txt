ORIGINAL PROMPT:
In the pursuit of high-quality code (low line count (e.g. low undue complexity)
and high feature/correctness) - refactor and fix ada83.c to pass a C-test group
completely (e.g. cXX) with much better Haskell-like C99 and tight smart
code-golfing with, ironically, textbook "Literate Programming" style. Use the
GNAT LLVM source to see what is done there before making changes.

Create a file to track everything called "checklist.txt" and include this
prompt in it

Use the C-series tests (done in batches) to guide you. MAKE SURE TO STORE
RESULTS IN THE REPO TO AVOID WASTING TIME - EACH RUN TAKES OVER A MIN! We
should be focused on making changes instead of obsessing over analysis

================================================================================
BASELINE RESULTS (pre-refactor)
================================================================================

c23: 8/8 PASS (100%) - Lexical: identifiers, character literals
c24: 11/11 PASS (100%) - Numeric literals
c25: 4/4 PASS (100%) - String literals
c26: 3/3 PASS (100%) - Pragmas

c2a: 7/7 PASS (100%) - Pragmas, representation clauses
c32: 7/27 PASS (26%)  - Basic types, range constraints
c34: 4/57 PASS (7%)   - Derived types
c35: 14/20 PASS (70%) - Classification of operations
c36: 2/7 PASS (28%)   - Character/string types
c37: 10/50 PASS (20%) - Array types
c38: 5/22 PASS (22%)  - Record types
c39: 7/30 PASS (23%)  - Access types
c3a: 7/17 PASS (41%)  - Derived types/access
c41: 2/8 PASS (25%)   - Type conversions
c42: 0/5 PASS (0%)    - Default expressions
c43: 2/18 PASS (11%)  - Aggregates
c44: 0/37 PASS (0%)   - Operator overloading
c45: 16/27 PASS (59%) - Binary/relational operators
c46: 1/3 PASS (33%)   - Array comparison
c47: 7/12 PASS (58%)  - Qualified expressions
c48: 3/18 PASS (16%)  - Allocators
c49: 9/9 PASS (100%)  - Static expressions
c4a: 6/9 PASS (66%)   - Static expressions
c51: 1/2 PASS (50%)   - Simple/compound statements
c52: 16/53 PASS (30%) - Assignment statements
c53: 7/7 PASS (100%)  - If statements
c54: 17/23 PASS (73%) - Case statements
c55: 18/18 PASS (100%) *** FIXED *** - Loop statements
c56: 1/1 PASS (100%)  - Block statements
c57: 6/6 PASS (100%)  - Exit statements
c58: 8/11 PASS (72%)  - Return statements
c59: 2/4 PASS (50%)   - Goto statements
c61: 1/4 PASS (25%)   - Subprogram declarations
c62: 0/6 PASS (0%)    - Subprogram bodies
c63: 1/1 PASS (100%)  - Subprogram parameters
c64: 4/57 PASS (7%)   - Subprograms
c65: 1/3 PASS (33%)   - Overloading
c66: 3/6 PASS (50%)   - Inline
c67: 0/14 PASS (0%)   - Operator overloading (subprograms)
c72: 1/2 PASS (50%)   - Packages
c74: 9/26 PASS (34%)  - Private types
c83: 12/38 PASS (31%) - Exceptions
c85: 0/28 PASS (0%)   - Representation clauses
c86: 0/13 PASS (0%)   - Machine code / addresses
c87: 32/74 PASS (43%) - Generic units
c91: 0/4 PASS (0%)    - Task types
c92: 3/5 PASS (60%)   - Elaboration
c93: 0/20 PASS (0%)   - Tasks
c94: 4/29 PASS (13%)  - Tasks/abort/select
c95: 9/75 PASS (12%)  - Entry calls
c96: 0/10 PASS (0%)   - Task termination
c97: 3/43 PASS (6%)   - Task abort/attributes
c99: 1/2 PASS (50%)   - Separate compilation
c9a: 0/15 PASS (0%)   - Compilation units
ca1: 4/22 PASS (18%)  - Elaboration order
ca3: 0/7 PASS (0%)    - Compilation order
cb1: 3/9 PASS (33%)   - With clauses
cb2: 3/4 PASS (75%)   - USE clauses
cb4: 6/10 PASS (60%)  - Subunit compilation
cb7: 0/5 PASS (0%)    - Body stubs
cc1: 3/33 PASS (9%)   - Generic instantiation
cc3: 13/76 PASS (17%) - Generic instantiation
cd1: 21/39 PASS (53%) - Representation clauses
cd2: 11/55 PASS (20%) - Representation clauses
cd3: 0/20 PASS (0%)   - Enumeration rep clauses
cd4: 0/9 PASS (0%)    - Record rep clauses
cd5: 0/45 PASS (0%)   - Address clauses
cd7: 3/8 PASS (37%)   - Pragmas
cd9: (skipped)
ce2: 11/118 PASS (9%) - I/O operations
ce3: 6/181 PASS (3%)  - I/O operations

100% groups: c23 c24 c25 c26 c2a c49 c53 c55 c56 c57 c63

================================================================================
APPROACH
================================================================================

1. Run ALL C-group tests to find which groups have failures
2. Pick a group with failures that's tractable
3. Study the GNAT LLVM reference source for the relevant subsystem
4. Refactor ada83.c to fix failures with tighter, more literate code
5. Re-run tests to verify fixes, store results
6. Repeat

================================================================================
GNAT LLVM REFERENCE FILES (key)
================================================================================

- gnatllvm-exprs.ads/adb    : Expression codegen (binary/unary ops, attributes)
- gnatllvm-types.ads/adb    : Type system (sizes, alignment, conversions)
- gnatllvm-arrays.ads/adb   : Array handling (bounds, fat ptrs, slicing)
- gnatllvm-conditionals.ads : Control flow (if/case/loop, short-circuit)
- gnatllvm-conversions.ads  : Type conversions
- gnatllvm-records.ads/adb  : Record layout, variant records
- gnatllvm-glvalue.ads      : GL_Value = LLVM Value + Type + Relationship

================================================================================
PROGRESS LOG
================================================================================

[done] Full C-group test survey (baseline stored above)
[done] Target group: c55 (loop statements) — 15/18 → 18/18
[done] c55b06a: Try_Static_Bound NK_CHARACTER + enum-char range/membership resolution
[done] c55b09a: Universal integer loop var → INTEGER per RM 5.5(6)
[done] c55b15a: FOR loop subtype constraint check per RM 3.2.2(11)
[done] Verify all c55 tests pass (18/18 = 100%)
[done] Commit & push
